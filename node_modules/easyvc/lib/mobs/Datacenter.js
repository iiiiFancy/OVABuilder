'use strict'

const BaseMob = require('../BaseMob.js')

class Datacenter extends BaseMob {
	
	async listHostOrCluster() {		
		let hostFolder = await this.get('hostFolder')
		return hostFolder.get('childEntity')
	}
	
	async listFolder() {		
		let dcName = await this.get('name')
		
		let folders = []
		folders.push(dcName)
		
		let vmFolder = await this.get('vmFolder')
		let folderMobs = await vmFolder.get('childEntity')
	
		if (folderMobs && folderMobs.length > 0) {
			for (let i = 0; i < folderMobs.length; i++) {
				let mob = folderMobs[i]
				if (mob.mor.type === 'Folder') {
					let name = await mob.get('name')				
					folders.push(name)
				}								
			}
		} 
	
		return folders
	}
}


module.exports = Datacenter